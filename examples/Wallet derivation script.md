
# Cardano Example Dapp

## **Wallet derivation script**

Will derive key pairs and build custom addresses


## Try it online: 

-  Visit [HTML5 Dapp](https://gamechangerfinance.github.io/gamechanger.wallet/examples/Wallet%20derivation%20script.html)
-  Run [Standalone URL dapp connection](https://beta-wallet.gamechanger.finance/api/2/run/1-H4sIAAAAAAAAA91YXW_iRhT9L-7DthJK5ttj3qLmIau2UrTsqg_RqpqPO2AtGGqbbKKI_94ZPoKDzRIbR02LFAgz9545Z-7cw8BTVD4uIBpGhcnTRRkNohz-Xqa5H3qKsnkZXr6r6RTKzz7uYxYN7yJ4KCEr0nkWfV2tQkK5zLMvn36_VWUJuQ-JJmW5GF5eTudGTSfzohxShNClhdn8Ui3SS6sWi7DSMgvwN9ejBWT2N3gswtstHwt5eg_rwUH0bT135xmp2ZpsSEAozKSZ3Q34t8qY-TIrP2YWHqIh8gPW5lAUu4HV4AADt8bANQzSGoPUMGhrDFrDYK0xWA2Dt8bgq6_-EPgiluobtCpiSHhRxDDQsohrDNwaA9cwSGsMUsOgrTFoDYO1xmA1DN4aY1PESQq5ys0k9W17Db6XZ2mWFmVqKiXd-0To3rv6ODws5nl55UsdfYLvKrdXm5XqKXqZTiuzWwmHSYFoWH-t5Hap_Wm6UcXkJtCOnsZQ_vzBKDOBi8oRvEAXi2rkh19W0SpI_CHdm2Py_1wb4GsFnID5CVVFhR47IWpnjk2iBj1sy-BMPbirHvw-9ZCuesj71EO76qH_Mz3sferhXfXwt9FzyiavYQpjVfr7360fcvNpOm9nkEcB_nPWeFxJZ1M8X0mDrZ6jpLMdnq-kwVDPUdLZOM5X0mCl5yhh_56SBhM9R0ln8ztfSYN9nja_q2yePc7my6Kny-Jr8Xq1xtMFezWtPi9_PdLq8w7XI60-r2I90upsJ53M4NW0-rwYhc4OX3Fny2mZFun46Dfa7VJpNh5txveBmXewexjtwqu_m-zDBzu8gLT-b8NVEoQl9c9EEkkR9a9oPSb8M-ISG2NiJDAzXIpExRhjrTSiGDPuYi4pI5AwJQnH2iJhHLJSOSP1c36CFYsxUIq5lJpYbAXoRMYxcQAEG0uZ434VbQ0g7oTFCUNYx7t8pqnAzigmcUxIIkBqqilQo4i0TiljgAhpaWI9KLjEaCZ4gvQunydUgOGAmFZ-ZUIFw9ZKqhKuPAuGmFSYcCBU-1wujdfJFNhdvnACez7KAo6F5kITJBVyiWIisbGFxA8JLiSNkUHUxolKYoelXe8pfVZhrCGIBsbG2RgLhZFf3MWxokxyLjy7mAKXLCGWK6IsFtSz3eX7fXcmMZ6N3y9tSeyL5VlRp12smafg95Qqj0-YwoAEZ8T64OddoFYKx7DGRsYaFDIOjFaOOUeM5Zgj4nc4QcoR7fFAmkQpQtxeBZaBC8MKeUCboDDDt--0SQ4iYu7UPiIWRBxGSBBsHyEhQcnzWXy5yrn6KysEG1h_GrfooxfRJ9vobamXOahimadQNBlF5T7wx9ZPNpZV7F1ktLWFzxukx-21YHjCHI-kHRjhZpOajXDncBcvjemiqOZsnToabTa9LcnGrIOf6l7HsVr0IxS3Mq687G5sTwG8xeYO-tyE8PCAM5WXv86zMlembDyXuw8wg3BlejFdlsvisN0ORvfdNlXZ-Hn-r3vyPLlRwIBZhH2zIEpJePjew_5p_YejGtFakZq6aFTPqLbSD_GOFL0hp0WdX-71RdjRI6ezGvilgHx7xLrQrKf3zbiX30QaSG-bobPol_m9fyPsv9Jr2x-l4zOq3QzxRhXvz4dWq38Alu8yzzMeAAA)

## Source code:

- dapp connection code: [GCScript DSL](Wallet%20derivation%20script.gcscript)
- frontend (using @gamechanger-finance/gc): [HTML5 dapp](Wallet%20derivation%20script.html)
- frontend (without official library): [Native HTML5 dapp](Wallet%20derivation%20script_nolib.html)

Dapp code was autogenerated by [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)

## GCScript code (dapp connection):
```json
{
  "type": "script",
  "require": {
    "not": {
      "walletTypeIn": [
        "extension"
      ]
    }
  },
  "returnURLPattern": "http://localhost:3000/demo/api/dapp",
  "run": {
    "HDSpendKeys": {
      "type": "deriveKeys",
      "keys": [
        {
          "name": "spend00",
          "kind": "spend",
          "accountIndex": 0,
          "addressIndex": 0
        },
        {
          "name": "spend01",
          "kind": "spend",
          "accountIndex": 0,
          "addressIndex": 1
        },
        {
          "name": "spend02",
          "kind": "spend",
          "accountIndex": 0,
          "addressIndex": 2
        },
        {
          "name": "spend03",
          "kind": "spend",
          "accountIndex": 0,
          "addressIndex": 3
        },
        {
          "name": "spend04",
          "kind": "spend",
          "accountIndex": 0,
          "addressIndex": 4
        },
        {
          "name": "spend05",
          "kind": "spend",
          "accountIndex": 0,
          "addressIndex": 5
        }
      ]
    },
    "HDStakeKeys": {
      "type": "deriveKeys",
      "keys": [
        {
          "name": "stake00",
          "kind": "stake",
          "accountIndex": 0,
          "addressIndex": 0
        },
        {
          "name": "stake01",
          "kind": "stake",
          "accountIndex": 0,
          "addressIndex": 1
        },
        {
          "name": "stake02",
          "kind": "stake",
          "accountIndex": 0,
          "addressIndex": 2
        },
        {
          "name": "stake03",
          "kind": "stake",
          "accountIndex": 0,
          "addressIndex": 3
        },
        {
          "name": "stake04",
          "kind": "stake",
          "accountIndex": 0,
          "addressIndex": 4
        },
        {
          "name": "stake05",
          "kind": "stake",
          "accountIndex": 0,
          "addressIndex": 5
        }
      ]
    },
    "hierarchicalDeterministic": {
      "type": "script",
      "run": [
        {
          "type": "script",
          "exportAs": "RewardAddress",
          "run": [
            {
              "type": "buildAddress",
              "name": "RewardAddress",
              "addr": {
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.0.pubKeyHashHex')}"
              }
            }
          ]
        },
        {
          "type": "script",
          "exportAs": "HierarchicalDeterministicWallet",
          "run": [
            {
              "type": "buildAddress",
              "name": "HierarchicalDeterministicWallet#0",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.0.pubKeyHashHex')}",
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.0.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "HierarchicalDeterministicWallet#1",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.1.pubKeyHashHex')}",
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.0.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "HierarchicalDeterministicWallet#2",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.2.pubKeyHashHex')}",
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.0.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "HierarchicalDeterministicWallet#3",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.3.pubKeyHashHex')}",
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.0.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "HierarchicalDeterministicWallet#3",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.4.pubKeyHashHex')}",
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.0.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "HierarchicalDeterministicWallet#5",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.5.pubKeyHashHex')}",
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.0.pubKeyHashHex')}"
              }
            }
          ]
        },
        {
          "type": "script",
          "exportAs": "DelegationPortfolioWallet",
          "run": [
            {
              "type": "buildAddress",
              "name": "DelegationPortfolioWallet#0",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.0.pubKeyHashHex')}",
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.0.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "DelegationPortfolioWallet#1",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.0.pubKeyHashHex')}",
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.1.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "DelegationPortfolioWallet#2",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.0.pubKeyHashHex')}",
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.2.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "DelegationPortfolioWallet#3",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.0.pubKeyHashHex')}",
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.3.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "DelegationPortfolioWallet#4",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.0.pubKeyHashHex')}",
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.4.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "DelegationPortfolioWallet#5",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.0.pubKeyHashHex')}",
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.5.pubKeyHashHex')}"
              }
            }
          ]
        },
        {
          "type": "script",
          "exportAs": "AnonymousHierarchicalDeterministicWallet",
          "run": [
            {
              "type": "buildAddress",
              "name": "AnonymousHierarchicalDeterministicWallet#0",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.0.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "AnonymousHierarchicalDeterministicWallet#1",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.1.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "AnonymousHierarchicalDeterministicWallet#2",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.2.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "AnonymousHierarchicalDeterministicWallet#3",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.3.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "AnonymousHierarchicalDeterministicWallet#4",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.4.pubKeyHashHex')}"
              }
            },
            {
              "type": "buildAddress",
              "name": "AnonymousHierarchicalDeterministicWallet#5",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.5.pubKeyHashHex')}"
              }
            }
          ]
        }
      ]
    },
    "multisig": {
      "type": "script",
      "run": {
        "spendingScript": {
          "type": "nativeScript",
          "name": "spendingScript",
          "script": {
            "scriptHex": "820183820282830302808201868200581ccc70614c5869a7111bab031145f758342e94a8251bd06cf0d8afc8b68200581c91a471e331588b2d1d6eb98772fee21cd34f5cccbdce05f6d19401b78200581c4b361fca48172296e8b3b3e3ca28dfaacce268d39d987ef9cb46590b8200581c5936ec5e04ba6eb23641dd83a95a8774048a125e23b9cb58c8694aed8200581c6f6101bade176b56b208a0f9a469d7de956b6568370c03d79a97f18d8202838200581c4cdc2038dfacfd716a10774f77a3485564ba73e58492d5a2ad163eb28200581c111fc9cc6fd34bd2783001b3fbf7b456beb93a38d24a1e06542dc6fb8200581c3d86f41b1c87bea0cfecbaf4ff2cd51502ca490af2b7b4e8c9aa22fd82028382018282041a0005d90d82051a0005dbc982018282041a00075fad82051a0007626982018282041a0008e64d82051a0008e90982018382041a0005d90d8200581c111fc9cc6fd34bd2783001b3fbf7b456beb93a38d24a1e06542dc6fb82051a0008e909"
          }
        },
        "stakingScript": {
          "type": "nativeScript",
          "name": "stakingScript",
          "script": {
            "scriptHex": "82018382041a0005d90d8200581c111fc9cc6fd34bd2783001b3fbf7b456beb93a38d24a1e06542dc6fb82051a0008e909"
          }
        },
        "treasuries": {
          "type": "script",
          "exportAs": "MultisigWallets",
          "run": {
            "SpendingTreasuryWallet": {
              "type": "buildAddress",
              "name": "SpendingTreasuryWallet",
              "addr": {
                "spendScriptHashHex": "{get('cache.multisig.spendingScript.scriptHashHex')}"
              }
            },
            "StakingTreasuryWallet": {
              "type": "buildAddress",
              "name": "StakingTreasuryWallet",
              "addr": {
                "stakeScriptHashHex": "{get('cache.multisig.stakingScript.scriptHashHex')}"
              }
            },
            "SpendingAndStakingTreasuryWallet": {
              "type": "buildAddress",
              "name": "SpendingAndStakingTreasuryWallet",
              "addr": {
                "spendScriptHashHex": "{get('cache.multisig.spendingScript.scriptHashHex')}",
                "stakeScriptHashHex": "{get('cache.multisig.stakingScript.scriptHashHex')}"
              }
            }
          }
        }
      }
    },
    "smartContracts": {
      "type": "script",
      "run": {
        "sc01": {
          "type": "plutusScript",
          "name": "plutusScript",
          "script": {
            "lang": "plutus_v2",
            "scriptHex": "4e4d01000033222220051200120011"
          }
        },
        "smartContractWallet": {
          "type": "script",
          "exportAs": "SmartContractWallets",
          "run": {
            "SmartContractWallet": {
              "type": "buildAddress",
              "name": "SmartContractWallet",
              "addr": {
                "spendScriptHashHex": "{get('cache.smartContracts.sc01.scriptHashHex')}"
              }
            },
            "SmartContractUserStakingWallet": {
              "type": "buildAddress",
              "name": "SmartContractUserStakingWallet",
              "addr": {
                "spendScriptHashHex": "{get('cache.smartContracts.sc01.scriptHashHex')}",
                "stakePubKeyHashHex": "{get('cache.HDStakeKeys.0.pubKeyHashHex')}"
              }
            },
            "SmartContractUserSpendingWallet": {
              "type": "buildAddress",
              "name": "SmartContractUserSpendingWallet",
              "addr": {
                "spendPubKeyHashHex": "{get('cache.HDSpendKeys.0.pubKeyHashHex')}",
                "stakeScriptHashHex": "{get('cache.smartContracts.sc01.scriptHashHex')}"
              }
            },
            "SmartContractMultiSigStakingWallet": {
              "type": "buildAddress",
              "name": "SmartContractMultiSigStakingWallet",
              "addr": {
                "spendScriptHashHex": "{get('cache.smartContracts.sc01.scriptHashHex')}",
                "stakeScriptHashHex": "{get('cache.multisig.stakingScript.scriptHashHex')}"
              }
            }
          }
        }
      }
    }
  }
}
```

## Run standalone QR dapp connection: 

You can use [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground) in `QR URL Transport` mode to capture results

[![This GCScript/URL is too large! make it shorter uploading parts to GCFS. Unable to generate QR code](Wallet%20derivation%20script.png)](https://gamechangerfinance.github.io/gamechanger.wallet/examples/Wallet%20derivation%20script.png)

## Resources
- [How to connect?](https://www.npmjs.com/package/@gamechanger-finance/gc)
- [Docs and examples on Github](https://github.com/GameChangerFinance/gamechanger.wallet/)
- [GCScript documentation](https://beta-wallet.gamechanger.finance/doc/api/v2)
- [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)
- [Tutorials on Youtube](https://www.youtube.com/@gamechanger.finance)
- [Support on Discord](https://discord.gg/vpbfyRaDKG)
- [News on Twitter](https://twitter.com/GameChangerOk)
- [Website](https://gamechanger.finance)

## License
MIT 
    
